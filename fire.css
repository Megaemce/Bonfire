:root {
    --aspect-ratio: 1.2;
}

body {
    margin: 0;
    padding: 0;
}

.bonefire {
    position: relative;
    height: 100vh;
    width: 100vw;
}

.bone_back {
    position: absolute;
    z-index: 0;
    width: 30vw;
    height: calc(30vw / var(--aspect-ratio));
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);

    background-image: url(bonfire.png);
    background-position: 51% 100%;
    background-repeat: no-repeat;
    background-size: contain;

    mix-blend-mode: exclusion;

    animation: flickeringBone 5s ease-in-out infinite;
}

.fire {
    position: absolute;
    z-index: 1;
    width: 100vw;
    height: 100vh;
    bottom: 0;

    mix-blend-mode: hard-light;
}

.fire.on {
    background-image: url(noiseSmall.svg), url(noise1.svg), url(noise.svg),
        linear-gradient(180deg, #000000, #656565d1 50%, #ffb100);
    background-size: 50vmin 50vmin, 50vmin 50vmin, 50vmin 50vmin, 100% 100%;
    background-blend-mode: color-burn, color-burn, color-burn, hard-light;

    filter: sepia(1) contrast(6);

    animation: firing 10s linear infinite;
}

.fire_limits {
    position: absolute;
    z-index: 2;
    width: 100vw;
    height: 100vmax;
    bottom: 0;

    background-image: radial-gradient(
                ellipse 21% 24% at 50% 81%,
                #cb8f8f 30%,
                black 52%
            )
            /* limiting the hight of the fire */,
        radial-gradient(ellipse 20% 68% at 50% 62%, white 38%, black 52%),
        radial-gradient(ellipse 45% 92% at 50% 77%, #a16d22 13%, black 52%);
    background-size: contain;
    background-blend-mode: soft-light;

    mix-blend-mode: multiply;
}

.fire_lights {
    position: absolute;
    z-index: 3;
    width: 100vw;
    height: calc(100vw / var(--aspect-ratio));
    bottom: 0;

    background-image: radial-gradient(
            ellipse 45% 14% at 50% 94%,
            #08040454 12% /* center of fire light */,
            #372b1da3 42% /* general light outside bone */,
            transparent 100% /* no effect outside */
        ),
        /* horizontal lights on the ground around bone*/
            radial-gradient(
                ellipse 18% 42% at 50% 86%,
                #ffb20082 0% /* center of fire light */,
                #ffad0017 28% /* general light outside bone */,
                transparent 100% /* no effect outside */
            )
            /* vertical lights */;
    /* mix-blend-mode: lighten; */
    background-size: contain;
    background-blend-mode: color-burn;

    animation: flickeringLights 5s ease-in-out infinite;
}

.bone_front {
    position: absolute;
    z-index: 4;
    width: 30vw;
    height: calc(30vw / var(--aspect-ratio));
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);

    background-image: url(bonfire.png);
    background-position: 51% 100%;
    background-repeat: no-repeat;
    background-size: contain;
    background-blend-mode: color-burn;

    mix-blend-mode: color-dodge;
}

button {
    position: absolute;
    z-index: 5;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;

    font-size: xx-large;
    font-family: monospace;
    color: rgb(111, 73, 34);
    background-color: #000000d7;
    border: none;
    cursor: pointer;
}

@keyframes firing {
    from {
        background-position: -25vmin 100vmin, 25vmin 100vmin, 0 100vh, 0;
    }
    to {
        background-position: 25vmin -100vmin, -25vmin -100vmin, 0 -100vh, 0;
    }
}

@keyframes flickeringBone {
    0% {
        filter: brightness(1);
    }
    50% {
        filter: brightness(10);
    }
    100% {
        filter: brightness(1);
    }
}
@keyframes flickeringLights {
    0% {
        filter: blur(7px) opacity(0.91);
    }
    50% {
        filter: blur(10px) opacity(0.95);
    }
    100% {
        filter: blur(7px) opacity(0.91);
    }
}
